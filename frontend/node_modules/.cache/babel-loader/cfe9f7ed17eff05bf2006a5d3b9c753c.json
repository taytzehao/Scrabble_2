{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TzeHaoTay\\\\Desktop\\\\CS\\\\scrabble2\\\\frontend\\\\src\\\\Main_page\\\\Mainpage.js\",\n    _s = $RefreshSig$();\n\nimport './Mainpage.css';\nimport React, { useState, useContext, useEffect } from 'react';\nimport axios from 'axios';\nimport Popup from 'reactjs-popup';\nimport { UserContext } from '../UserContext.js';\nimport Rooms from './Rooms.js';\nimport { Link, useParams, useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Mainpage() {\n  _s();\n\n  const {\n    profile,\n    setprofile\n  } = useContext(UserContext);\n  const history = useHistory();\n  const [rooms, setrooms] = useState([]);\n  useEffect(() => {\n    axios.get('http://localhost:5500/search_rooms').then(res => {\n      console.log(res);\n      setrooms(res.data);\n    });\n  }, []);\n\n  function create_new_game() {\n    axios.post('http://localhost:5500/new_game', {\n      username: profile.username\n    }).then(res => {\n      history.push('/Gamespage/' + res.data);\n    });\n  }\n\n  function random_room() {\n    let room_selected = rooms[rooms.length * Math.random() << 0];\n    axios.put('http://localhost:5500/join_room', {\n      username: profile.username,\n      room_id: room_selected\n    }).then(history.push('/Gamespage/' + room_selected));\n  }\n\n  const nullprofile = () => {\n    setprofile(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"menu\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pageitem\",\n          onClick: create_new_game,\n          children: \"New Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pageitem\",\n          onClick: random_room,\n          children: \"Random Room\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Rooms, {\n          history: history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          classname: \"pageitem\",\n          to: \"/\",\n          onClick: nullprofile,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Mainpage, \"BMthlyiUBgV8glhmOdGS7c9reX8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Mainpage;\nexport default Mainpage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mainpage\");","map":{"version":3,"sources":["C:/Users/TzeHaoTay/Desktop/CS/scrabble2/frontend/src/Main_page/Mainpage.js"],"names":["React","useState","useContext","useEffect","axios","Popup","UserContext","Rooms","Link","useParams","useHistory","Mainpage","profile","setprofile","history","rooms","setrooms","get","then","res","console","log","data","create_new_game","post","username","push","random_room","room_selected","length","Math","random","put","room_id","nullprofile"],"mappings":";;;AAAA,OAAO,gBAAP;AACA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,UAAxB,EAAmCC,SAAnC,QAAmD,OAAnD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,SAAQC,WAAR,QAA0B,mBAA1B;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,SAAQC,IAAR,EAAcC,SAAd,EAAyBC,UAAzB,QAA0C,kBAA1C;;;AAIA,SAASC,QAAT,GAAoB;AAAA;;AAClB,QAAM;AAACC,IAAAA,OAAD;AAASC,IAAAA;AAAT,MAAqBX,UAAU,CAACI,WAAD,CAArC;AACA,QAAMQ,OAAO,GAACJ,UAAU,EAAxB;AACA,QAAM,CAACK,KAAD,EAAOC,QAAP,IAAkBf,QAAQ,CAAC,EAAD,CAAhC;AAEAE,EAAAA,SAAS,CAAC,MAAI;AACZC,IAAAA,KAAK,CAACa,GAAN,CAAU,oCAAV,EAAgDC,IAAhD,CAAsDC,GAAD,IAAO;AACxDC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAH,MAAAA,QAAQ,CAACG,GAAG,CAACG,IAAL,CAAR;AAAmB,KAFvB;AAGD,GAJQ,EAIP,EAJO,CAAT;;AAKA,WAASC,eAAT,GAA0B;AAExBnB,IAAAA,KAAK,CAACoB,IAAN,CAAW,gCAAX,EAA4C;AAACC,MAAAA,QAAQ,EAACb,OAAO,CAACa;AAAlB,KAA5C,EAAyEP,IAAzE,CAA+EC,GAAD,IAAO;AACrFL,MAAAA,OAAO,CAACY,IAAR,CAAa,gBAAcP,GAAG,CAACG,IAA/B;AAAsC,KADtC;AAED;;AAEH,WAASK,WAAT,GAAsB;AACpB,QAAIC,aAAa,GAACb,KAAK,CAACA,KAAK,CAACc,MAAN,GAAaC,IAAI,CAACC,MAAL,EAAb,IAA4B,CAA7B,CAAvB;AACA3B,IAAAA,KAAK,CAAC4B,GAAN,CAAU,iCAAV,EAA4C;AAACP,MAAAA,QAAQ,EAACb,OAAO,CAACa,QAAlB;AAA2BQ,MAAAA,OAAO,EAACL;AAAnC,KAA5C,EAA+FV,IAA/F,CAAoGJ,OAAO,CAACY,IAAR,CAAa,gBAAcE,aAA3B,CAApG;AACD;;AAEC,QAAMM,WAAW,GAAG,MAAI;AACtBrB,IAAAA,UAAU,CAAC,IAAD,CAAV;AACD,GAFD;;AAGE,sBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA,2BACM;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,6BACI;AAAK,QAAA,EAAE,EAAC,MAAR;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,UAAf;AAA0B,UAAA,OAAO,EAAEU,eAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAK,UAAA,SAAS,EAAC,UAAf;AAA0B,UAAA,OAAO,EAAEI,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,KAAD;AAAO,UAAA,OAAO,EAAEb;AAAhB;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,IAAD;AAAM,UAAA,SAAS,EAAC,UAAhB;AAA2B,UAAA,EAAE,EAAC,GAA9B;AAAkC,UAAA,OAAO,EAAEoB,WAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADN;AAAA;AAAA;AAAA;AAAA,UADF;AAYH;;GApCQvB,Q;UAEOD,U;;;KAFPC,Q;AAsCP,eAAeA,QAAf","sourcesContent":["import './Mainpage.css';\r\nimport React, {useState,useContext,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport Popup from 'reactjs-popup';\r\nimport {UserContext} from '../UserContext.js'\r\nimport Rooms from './Rooms.js';\r\nimport {Link, useParams, useHistory} from 'react-router-dom';\r\n\r\n\r\n\r\nfunction Mainpage() {\r\n  const {profile,setprofile}=useContext(UserContext)\r\n  const history=useHistory()\r\n  const [rooms,setrooms] =useState([])\r\n\r\n  useEffect(()=>{\r\n    axios.get('http://localhost:5500/search_rooms').then((res)=>{\r\n        console.log(res)\r\n        setrooms(res.data)})\r\n  },[])\r\n  function create_new_game(){\r\n    \r\n    axios.post('http://localhost:5500/new_game',{username:profile.username}).then((res)=>{\r\n    history.push('/Gamespage/'+res.data) })\r\n  }\r\n\r\nfunction random_room(){\r\n  let room_selected=rooms[rooms.length*Math.random()<<0]\r\n  axios.put('http://localhost:5500/join_room',{username:profile.username,room_id:room_selected}).then(history.push('/Gamespage/'+room_selected))\r\n}\r\n\r\n  const nullprofile = ()=>{\r\n    setprofile(null)\r\n  }\r\n    return (\r\n      <div className=\"main\">\r\n            <div className=\"main-section\">\r\n                <div id=\"menu\">\r\n                  <div className=\"pageitem\" onClick={create_new_game}>New Game</div>\r\n                  <div className=\"pageitem\" onClick={random_room}>Random Room</div>\r\n                  <Rooms history={history}/>\r\n                  <Link classname=\"pageitem\" to=\"/\" onClick={nullprofile}>Logout</Link>\r\n              </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n  \r\n  export default Mainpage;\r\n  "]},"metadata":{},"sourceType":"module"}